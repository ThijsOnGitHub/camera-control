name: App deploy

on:
  push:
    branches: 
      - main
env:
  FOLDER: applicatie

jobs: 
  deploy-application:
    runs-on: windows-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2.5.0
      - name: Setup Node.js environment
        if: false
        uses: actions/setup-node@v3.5.1
      - name: Generate executable
        working-directory: ${{ env.FOLDER }}
        run: |
          npm install
          npm run make
      - name: Automatic Releases
        # You may pin to the exact commit or the version.
        # uses: marvinpinto/action-automatic-releases@919008cf3f741b179569b7a6fb4d8860689ab7f0
        uses: marvinpinto/action-automatic-releases@v1.2.1
        with:
          # GitHub secret token
          repo_token: ${{ github.token }}
          # Git tag (for automatic releases)
          automatic_release_tag: latest
          # Assets to upload to the release
          files: ${{ env.FOLDER }}/out/make/zip/win32/x64/camera-control-win32-x64-1.0.0.zip



